{"version":3,"sources":["assets/avatar.svg","components/Home/Home.js","components/Header/Header.js","App.js","index.js"],"names":["Home","btn","useRef","useState","question","setQuestion","answer","setAnswer","hasAnswer","setHasAnswer","links","setLinks","related","setRelated","getApiResponse","msg","current","style","backgroundColor","rep","replace","q","encodeURI","Axios","get","then","res","console","log","data","arr","answers","num","length","linkArr","i","push","message","speech","SpeechSynthesisUtterance","text","volume","rate","pitch","window","speechSynthesis","speak","readOutLoud","catch","err","error","recognition","SpeechRecognition","webkitSpeechRecognition","lang","onstart","onspeechend","onerror","event","onresult","resultIndex","transcript","results","stop","className","src","avatar","alt","ref","onClick","start","icon","faMicrophone","map","index","href","link","target","rel","title","Header","to","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9df58fa7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar.b782e86f.svg\";","import React, { useState, useRef } from \"react\";\nimport \"./home.css\";\nimport avatar from \"../../assets/avatar.svg\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMicrophone } from \"@fortawesome/free-solid-svg-icons\";\nimport Axios from \"axios\";\n\nexport default function Home() {\n  const btn = useRef(0);\n\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(\"\");\n  const [hasAnswer, setHasAnswer] = useState(false);\n  const [links, setLinks] = useState([]);\n  const [related, setRelated] = useState([]);\n\n  function readOutLoud(message) {\n    const speech = new SpeechSynthesisUtterance();\n\n    // Set the text and voice attributes.\n    speech.text = message;\n    speech.volume = 1;\n    speech.rate = 1;\n    speech.pitch = 1;\n\n    window.speechSynthesis.speak(speech);\n  }\n\n  function getApiResponse(msg) {\n    btn.current.style.backgroundColor = \"var(--secondary-color)\";\n    const rep = msg.replace(\"+\", \"%2B\");\n    const q = encodeURI(rep);\n    Axios.get(`https://google-search-api-v2.herokuapp.com/api?query=${q}`)\n      .then((res) => {\n        console.log(res.data);\n        const arr = res.data.answers;\n\n        let num = 0;\n        if (arr.length > 1) {\n          num = 1;\n        }\n\n        let linkArr = [];\n\n        for (let i = 0; i < 5; i++) {\n          linkArr.push(res.data.links[i]);\n        }\n\n        setLinks(linkArr);\n        setRelated(res.data.related);\n\n        readOutLoud(arr[num]);\n        setHasAnswer(true);\n        setAnswer(\"Answer: \" + arr[num]);\n      })\n      .catch((err) => console.error(err));\n\n    setQuestion(\"Question: \" + msg);\n  }\n\n  const SpeechRecognition =\n    window.SpeechRecognition || window.webkitSpeechRecognition;\n  const recognition = new SpeechRecognition();\n  recognition.lang = \"en-US\";\n\n  recognition.onstart = function () {\n    btn.current.style.backgroundColor = \"red\";\n    setQuestion(\"Listening...\");\n    setAnswer(\"\");\n    setHasAnswer(false);\n  };\n\n  recognition.onspeechend = function () {\n    btn.current.style.backgroundColor = \"var(--secondary-color)\";\n  };\n\n  recognition.onerror = function (event) {\n    if (event.error === \"no-speech\") {\n      setQuestion(\"No speech was detected. Try again.\");\n      setAnswer(\"\");\n      btn.current.style.backgroundColor = \"var(--secondary-color)\";\n    }\n  };\n\n  recognition.onresult = function (event) {\n    let current = event.resultIndex;\n\n    let transcript = event.results[current][0].transcript;\n    recognition.stop();\n\n    getApiResponse(transcript);\n  };\n\n  return (\n    <div className=\"home\">\n      <div className=\"text\">\n        <h1>Hi, my name is G.E. and I'm here to help you.</h1>\n        <span className=\"explanation\">\n          I can answer you with questions, starting from weather, math...\n        </span>\n        <img src={avatar} alt=\"\" />\n      </div>\n      <div className=\"buttons\">\n        <button\n          ref={btn}\n          onClick={() => {\n            recognition.start();\n          }}\n        >\n          <FontAwesomeIcon icon={faMicrophone} />\n        </button>\n      </div>\n      <div className=\"qna\">\n        <span className=\"question\">{question}</span>\n        <span className=\"answer\">{answer}</span>\n      </div>\n      {hasAnswer ? (\n        <div className=\"lar\">\n          <div className=\"links\">\n            <h3>Some links to help you out</h3>\n            {links.map((arr, index) => {\n              return (\n                <a key={index} href={arr.link} target=\"_blank\" rel=\"noreferrer\">\n                  {arr.title}\n                </a>\n              );\n            })}\n          </div>\n          <div className=\"related\">\n            <h3>Related questions</h3>\n            {related.map((res, index) => {\n              return (\n                <button\n                  key={index}\n                  onClick={() => {\n                    getApiResponse(res);\n                  }}\n                >\n                  {res}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./header.css\";\n\nexport default function Header() {\n  return (\n    <header>\n      <h1>G.E.</h1>\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n        </li>\n      </ul>\n    </header>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Header from \"./components/Header/Header\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}